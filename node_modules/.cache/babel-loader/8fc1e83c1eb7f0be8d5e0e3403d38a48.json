{"ast":null,"code":"var _jsxFileName = \"/Users/sushmitamaity/Calmify/Mental-Health-Support-App/src/components/singleBlogPage/sections/Comments.jsx\";\nimport React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { firestoreConnect } from \"react-redux-firebase\";\nimport { compose } from \"redux\";\nimport \"../index.css\";\nimport { Row, Col, Container, Button, Image } from \"react-bootstrap\";\nimport BubblePreloader from \"react-bubble-preloader\";\n\nconst Comments = props => {\n  const {\n    blog,\n    auth,\n    profile\n  } = props;\n  const [comment, setComment] = useState(\"\");\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const commentData = {\n      userId: auth.uid,\n      date: new Date().toLocaleString(),\n      dispayName: profile.fullName || \"\",\n      profilePhoto: profile.imageURL,\n      comment\n    };\n    props.addComment(blog.blogId, commentData);\n    setComment(\"\");\n  };\n\n  let allComments = [];\n\n  if (blog) {\n    allComments = blog.comments && blog.comments.map(item => {\n      const profilePhoto = item.profilePhoto || \"https://i.ibb.co/k0NNyLV/User-profile-image.png\";\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"border-bottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        className: \"visitorImage\",\n        src: profilePhoto,\n        alt: \"Visitor profile\",\n        width: \"70\",\n        height: \"70\",\n        thumbnail: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"displayedComment\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"visitorName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"commentedPerson\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }\n      }, item.dispayName), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"ml-3 visitorComment\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }\n      }, item.comment), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"ml-3 commentDate\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      }, item.date))), auth.uid === item.userId && /*#__PURE__*/React.createElement(Button, {\n        variant: \"danger\",\n        size: \"sm\",\n        className: \"ml-3 commentDeleteBtn\",\n        onClick: () => props.deleteComment(blog.blogId, item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }\n      }, \"Remove\"));\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(BubblePreloader, {\n      animation: {\n        speed: 1\n      },\n      bubble: {\n        width: \"1.5rem\",\n        height: \"1.5rem\"\n      },\n      colors: [\"#AEC6DF\", \"#2580e8\", \"#0E5AA7\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    });\n  }\n\n  let isBlocked = false;\n\n  if (profile) {\n    isBlocked = profile.isBlocked;\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"w-100 addingCommentSection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 10,\n    md: 10,\n    lg: 10,\n    className: \"commentSection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"commentsTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"Comments\"), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, allComments), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"replyFields\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \"Leave a comment\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"Only users can post a comment\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    onChange: e => setComment(e.target.value),\n    value: comment,\n    placeholder: \"Write your comment\",\n    cols: \"80\",\n    rows: \"2\",\n    className: \"col-lg-12 col-md-10 col-sm-10 infoFields mb-0\",\n    maxlength: \"50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"w-25 commentButton\",\n    type: \"submit\",\n    disabled: !auth.uid || isBlocked,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Post\")))));\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const auth = state.firebase.auth;\n  const profiles = state.firestore.data.profiles;\n  const profile = profiles ? profiles[auth.uid] : null;\n  return {\n    profile,\n    auth\n  };\n};\n\nexport default compose(connect(mapStateToProps), firestoreConnect([{\n  collection: \"profiles\"\n}]))(Comments);","map":{"version":3,"sources":["/Users/sushmitamaity/Calmify/Mental-Health-Support-App/src/components/singleBlogPage/sections/Comments.jsx"],"names":["React","useState","connect","firestoreConnect","compose","Row","Col","Container","Button","Image","BubblePreloader","Comments","props","blog","auth","profile","comment","setComment","handleSubmit","event","preventDefault","commentData","userId","uid","date","Date","toLocaleString","dispayName","fullName","profilePhoto","imageURL","addComment","blogId","allComments","comments","map","item","deleteComment","speed","width","height","isBlocked","e","target","value","mapStateToProps","state","ownProps","firebase","profiles","firestore","data","collection"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { firestoreConnect } from \"react-redux-firebase\";\nimport { compose } from \"redux\";\nimport \"../index.css\";\nimport { Row, Col, Container, Button, Image } from \"react-bootstrap\";\nimport BubblePreloader from \"react-bubble-preloader\";\n\nconst Comments = (props) => {\n  const { blog, auth, profile } = props;\n  const [comment, setComment] = useState(\"\");\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const commentData = {\n      userId: auth.uid,\n      date: new Date().toLocaleString(),\n      dispayName: profile.fullName || \"\",\n      profilePhoto: profile.imageURL,\n      comment,\n    };\n    props.addComment(blog.blogId, commentData);\n    setComment(\"\");\n  };\n  let allComments = [];\n  if (blog) {\n    allComments =\n      blog.comments &&\n      blog.comments.map((item) => {\n        const profilePhoto =\n          item.profilePhoto ||\n          \"https://i.ibb.co/k0NNyLV/User-profile-image.png\";\n        return (\n          <div className=\"border-bottom\">\n            <Image\n              className=\"visitorImage\"\n              src={profilePhoto}\n              alt=\"Visitor profile\"\n              width=\"70\"\n              height=\"70\"\n              thumbnail\n            />\n            <div className=\"displayedComment\">\n              <p className=\"visitorName\">\n                <h6 className=\"commentedPerson\">{item.dispayName}</h6>\n                <p className=\"ml-3 visitorComment\">{item.comment}</p>\n                <p className=\"ml-3 commentDate\">{item.date}</p>\n              </p>\n            </div>\n            {auth.uid === item.userId && (\n              <Button\n                variant=\"danger\"\n                size=\"sm\"\n                className=\"ml-3 commentDeleteBtn\"\n                onClick={() => props.deleteComment(blog.blogId, item)}\n              >\n                Remove\n              </Button>\n            )}\n          </div>\n        );\n      });\n  } else {\n    return (\n      <BubblePreloader\n        animation={{ speed: 1 }}\n        bubble={{ width: \"1.5rem\", height: \"1.5rem\" }}\n        colors={[\"#AEC6DF\", \"#2580e8\", \"#0E5AA7\"]}\n      />\n    );\n  }\n\n  let isBlocked = false;\n\n  if (profile) {\n    isBlocked = profile.isBlocked;\n  }\n\n  return (\n    <Container className=\"w-100 addingCommentSection\">\n      <Row>\n        <Col xs={10} md={10} lg={10} className=\"commentSection\">\n          <p className=\"commentsTitle\">Comments</p>\n          <section className=\"\">{allComments}</section>\n          <form className=\"replyFields\" onSubmit={handleSubmit}>\n            <h5>Leave a comment</h5>\n            <h6>Only users can post a comment</h6>\n            <textarea\n              onChange={(e) => setComment(e.target.value)}\n              value={comment}\n              placeholder=\"Write your comment\"\n              cols=\"80\"\n              rows=\"2\"\n              className=\"col-lg-12 col-md-10 col-sm-10 infoFields mb-0\"\n              maxlength=\"50\"\n            ></textarea>\n            <Button\n              className=\"w-25 commentButton\"\n              type=\"submit\"\n              disabled={!auth.uid || isBlocked}\n            >\n              Post\n            </Button>\n          </form>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\nconst mapStateToProps = (state, ownProps) => {\n  const auth = state.firebase.auth;\n  const profiles = state.firestore.data.profiles;\n  const profile = profiles ? profiles[auth.uid] : null;\n  return {\n    profile,\n    auth,\n  };\n};\nexport default compose(\n  connect(mapStateToProps),\n  firestoreConnect([{ collection: \"profiles\" }])\n)(Comments);\n"]},"metadata":{},"sourceType":"module"}