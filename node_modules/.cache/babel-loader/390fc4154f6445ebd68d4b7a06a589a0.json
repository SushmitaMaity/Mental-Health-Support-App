{"ast":null,"code":"var _jsxFileName = \"/Users/sushmitamaity/Calmify/Mental-Health-Support-App/src/containers/profile/BlogBox.jsx\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { updateProfile } from \"../../actions/authActions\";\nimport { Button, Row, Col, ListGroup, Image } from \"react-bootstrap\";\nimport \"./BlogBox.css\";\nimport anonymousImage from \"../../images/anonymousImage.png\";\nimport { ADMIN_ROLE } from \"../../components/common/roleConstants\";\n\nconst BlogBox = props => {\n  const {\n    blog,\n    userType\n  } = props;\n  const photoSrc = blog.authorProfileImage || anonymousImage; // Delete a blog content from Firestore and also its related files from Storage\n\n  const handleBlogDeletion = () => {\n    props.deleteBlogFromStorage(blog);\n    props.deleteBlogFromDB(blog.blogId);\n  };\n\n  const handleBlockAndActivateButton = () => {\n    if (userType === ADMIN_ROLE) {\n      if (blog.isApproved) {\n        return /*#__PURE__*/React.createElement(Button, {\n          variant: \"danger\",\n          className: \"w-75\",\n          onClick: () => props.approveBlog({\n            blogId: blog.blogId,\n            isApproved: false\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 11\n          }\n        }, \"Decline\");\n      } else {\n        return /*#__PURE__*/React.createElement(Button, {\n          variant: \"success\",\n          className: \"w-75\",\n          onClick: () => props.approveBlog({\n            blogId: blog.blogId,\n            isApproved: true\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 11\n          }\n        }, \"Approve\");\n      }\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n        variant: \"danger\",\n        className: \"w-75\",\n        onClick: handleBlogDeletion,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }\n      }, \"Delete\"));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"blogBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/profiles/\" + blog.userId,\n    key: blog.userId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    defaultActiveKey: \"none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    action: true,\n    className: \"d-flex h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: photoSrc,\n    alt: \"Profile\",\n    roundedCircle: true,\n    width: \"100\",\n    height: \"100\",\n    className: \"mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"blogBoxInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }, blog.author), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }, blog.authorJobTitle ? blog.authorJobTitle : \"No job title available\")))))), /*#__PURE__*/React.createElement(Col, {\n    xs: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/blogs/\" + blog.blogId,\n    key: blog.blogId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    defaultActiveKey: \"none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    action: true,\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: blog.imageURL,\n    alt: \"Profile\",\n    thumbnail: true,\n    width: \"100\",\n    className: \"mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"blogBoxInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  }, blog.title), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, blog.date)))))), /*#__PURE__*/React.createElement(Col, {\n    xs: 2,\n    className: \"d-flex flex-column pt-2 pb-2 justify-content-around\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, handleBlockAndActivateButton())));\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateProfile: profileInfo => dispatch(updateProfile(profileInfo))\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(BlogBox);","map":{"version":3,"sources":["/Users/sushmitamaity/Calmify/Mental-Health-Support-App/src/containers/profile/BlogBox.jsx"],"names":["React","Link","connect","updateProfile","Button","Row","Col","ListGroup","Image","anonymousImage","ADMIN_ROLE","BlogBox","props","blog","userType","photoSrc","authorProfileImage","handleBlogDeletion","deleteBlogFromStorage","deleteBlogFromDB","blogId","handleBlockAndActivateButton","isApproved","approveBlog","userId","author","authorJobTitle","imageURL","title","date","mapDispatchToProps","dispatch","profileInfo"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { updateProfile } from \"../../actions/authActions\";\nimport { Button, Row, Col, ListGroup, Image } from \"react-bootstrap\";\nimport \"./BlogBox.css\";\nimport anonymousImage from \"../../images/anonymousImage.png\";\nimport { ADMIN_ROLE } from \"../../components/common/roleConstants\";\n\nconst BlogBox = (props) => {\n  const { blog, userType } = props;\n  const photoSrc = blog.authorProfileImage || anonymousImage;\n\n  // Delete a blog content from Firestore and also its related files from Storage\n  const handleBlogDeletion = () => {\n    props.deleteBlogFromStorage(blog);\n    props.deleteBlogFromDB(blog.blogId);\n  };\n\n  const handleBlockAndActivateButton = () => {\n    if (userType === ADMIN_ROLE) {\n      if (blog.isApproved) {\n        return (\n          <Button\n            variant=\"danger\"\n            className=\"w-75\"\n            onClick={() =>\n              props.approveBlog({ blogId: blog.blogId, isApproved: false })\n            }\n          >\n            Decline\n          </Button>\n        );\n      } else {\n        return (\n          <Button\n            variant=\"success\"\n            className=\"w-75\"\n            onClick={() =>\n              props.approveBlog({ blogId: blog.blogId, isApproved: true })\n            }\n          >\n            Approve\n          </Button>\n        );\n      }\n    } else {\n      return (\n        <>\n          <Button\n            variant=\"danger\"\n            className=\"w-75\"\n            onClick={handleBlogDeletion}\n          >\n            Delete\n          </Button>\n        </>\n      );\n    }\n  };\n\n  return (\n    <div className=\"blogBox\">\n      <Row>\n        <Col xs={5}>\n          <Link to={\"/profiles/\" + blog.userId} key={blog.userId}>\n            <ListGroup defaultActiveKey=\"none\">\n              <ListGroup.Item action className=\"d-flex h-100\">\n                <Image\n                  src={photoSrc}\n                  alt=\"Profile\"\n                  roundedCircle\n                  width=\"100\"\n                  height=\"100\"\n                  className=\"mr-3\"\n                />\n                <div class=\"blogBoxInfo\">\n                  <h5>{blog.author}</h5>\n                  <p>\n                    {blog.authorJobTitle\n                      ? blog.authorJobTitle\n                      : \"No job title available\"}\n                  </p>\n                </div>\n              </ListGroup.Item>\n            </ListGroup>\n          </Link>\n        </Col>\n\n        <Col xs={5}>\n          <Link to={\"/blogs/\" + blog.blogId} key={blog.blogId}>\n            <ListGroup defaultActiveKey=\"none\">\n              <ListGroup.Item action className=\"d-flex\">\n                <Image\n                  src={blog.imageURL}\n                  alt=\"Profile\"\n                  thumbnail\n                  width=\"100\"\n                  className=\"mr-3\"\n                />\n                <div class=\"blogBoxInfo\">\n                  <h5>{blog.title}</h5>\n                  <p>{blog.date}</p>\n                </div>\n              </ListGroup.Item>\n            </ListGroup>\n          </Link>\n        </Col>\n\n        <Col\n          xs={2}\n          className=\"d-flex flex-column pt-2 pb-2 justify-content-around\"\n        >\n          {handleBlockAndActivateButton()}\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    updateProfile: (profileInfo) => dispatch(updateProfile(profileInfo)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(BlogBox);\n"]},"metadata":{},"sourceType":"module"}