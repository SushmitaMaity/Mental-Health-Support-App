{"ast":null,"code":"var _jsxFileName = \"/Users/sushmitamaity/Mental-Health-Support/src/containers/profile/EditProfileInfo.jsx\";\nimport React from \"react\";\nimport \"./ProfileInfoSections.css\";\nimport { connect } from \"react-redux\";\nimport { firestoreConnect } from \"react-redux-firebase\";\nimport { compose } from \"redux\";\nimport { updateProfile } from \"../../actions/authActions\";\nimport { Redirect } from \"react-router-dom\";\nimport { Form, Col, Button, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport infoSign from \"../../images/infoSign.png\";\n\nconst EditProfileInfo = props => {\n  const {\n    userId,\n    profile,\n    auth,\n    firstName = profile.firstName || \"\",\n    lastName = profile.lastName || \"\",\n    fullName = profile.fullName,\n    jobTitle = profile.jobTitle || \"\",\n    userType = profile.userType,\n    city = profile.city || \"\",\n    country = profile.country || \"\",\n    brief = profile.brief || \"\"\n  } = props;\n  const [newFirstName, setNewFirstName] = React.useState(firstName);\n  const [newLastName, setNewLastName] = React.useState(lastName);\n  const [newCity, setNewCity] = React.useState(city);\n  const [newCountry, setNewCountry] = React.useState(country);\n  const [newJobTitle, setNewJobTitle] = React.useState(jobTitle);\n  const [newBrief, setNewBrief] = React.useState(brief);\n  const displayName = !newFirstName && !newLastName ? fullName : newFirstName + \" \" + newLastName; // Protect the page from unauthorized access\n\n  if (!auth.uid) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 12\n      }\n    });\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    props.handleEditingStatus(true);\n    const changes = {\n      firstName: newFirstName,\n      lastName: newLastName,\n      fullName: displayName,\n      city: newCity,\n      country: newCountry,\n      jobTitle: newJobTitle,\n      brief: newBrief\n    };\n    props.updateProfile({\n      userId,\n      ...changes\n    });\n  };\n\n  if (profile) {\n    return /*#__PURE__*/React.createElement(Form, {\n      className: \"d-flex flex-column infoContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"firstName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      value: newFirstName,\n      className: \"w-75\",\n      onInput: e => {\n        setNewFirstName(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"lastName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      value: newLastName,\n      className: \"w-75\",\n      onInput: e => {\n        setNewLastName(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Row, {\n      className: \"justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"w-75 m-0 pb-1 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, \"Display name\", /*#__PURE__*/React.createElement(OverlayTrigger, {\n      overlay: /*#__PURE__*/React.createElement(Tooltip, {\n        id: \"tooltip-disabled\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 19\n        }\n      }, \"This name will be displayed when you comment or post a blog\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ml-2 d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"Info sign\",\n      src: infoSign,\n      width: \"20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"w-75 m-0 p-1 displayName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, displayName)), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"jobTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, \"Job title\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      value: newJobTitle,\n      className: \"w-75\",\n      onInput: e => {\n        setNewJobTitle(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"w-75 m-0 pb-1 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, \"User account type\", /*#__PURE__*/React.createElement(OverlayTrigger, {\n      overlay: /*#__PURE__*/React.createElement(Tooltip, {\n        id: \"tooltip-disabled\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 19\n        }\n      }, \"You can contact with the website admins to upgrade your account\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ml-2 d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"Info sign\",\n      src: infoSign,\n      width: \"20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"w-75 m-0 p-1 displayName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, userType))), /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"city\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, \"City\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      value: newCity,\n      className: \"w-75\",\n      onInput: e => {\n        setNewCity(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"country\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, \"Country\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      value: newCountry,\n      className: \"w-75\",\n      onInput: e => {\n        setNewCountry(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"brief\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }\n    }, \"Brief\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"textarea\",\n      rows: \"3\",\n      value: newBrief,\n      onInput: e => {\n        setNewBrief(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      onClick: handleSubmit,\n      className: \"mr-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }\n    }, \"Save Changes\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      type: \"button\",\n      onClick: () => props.handleEditingStatus(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }\n    }, \"Cancel\")));\n  } else {\n    return /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 12\n      }\n    }, \"Loading profile...\");\n  }\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const {\n    userId\n  } = ownProps;\n  const profiles = state.firestore.data.profiles;\n  const profile = profiles ? profiles[userId] : null;\n  return {\n    profile: profile,\n    auth: state.firebase.auth\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateProfile: profileInfo => dispatch(updateProfile(profileInfo))\n  };\n};\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps), firestoreConnect([{\n  collection: \"profiles\"\n}]))(EditProfileInfo);","map":{"version":3,"sources":["/Users/sushmitamaity/Mental-Health-Support/src/containers/profile/EditProfileInfo.jsx"],"names":["React","connect","firestoreConnect","compose","updateProfile","Redirect","Form","Col","Button","OverlayTrigger","Tooltip","infoSign","EditProfileInfo","props","userId","profile","auth","firstName","lastName","fullName","jobTitle","userType","city","country","brief","newFirstName","setNewFirstName","useState","newLastName","setNewLastName","newCity","setNewCity","newCountry","setNewCountry","newJobTitle","setNewJobTitle","newBrief","setNewBrief","displayName","uid","handleSubmit","e","preventDefault","handleEditingStatus","changes","target","value","mapStateToProps","state","ownProps","profiles","firestore","data","firebase","mapDispatchToProps","dispatch","profileInfo","collection"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./ProfileInfoSections.css\";\nimport { connect } from \"react-redux\";\nimport { firestoreConnect } from \"react-redux-firebase\";\nimport { compose } from \"redux\";\nimport { updateProfile } from \"../../actions/authActions\";\nimport { Redirect } from \"react-router-dom\";\nimport { Form, Col, Button, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport infoSign from \"../../images/infoSign.png\";\n\nconst EditProfileInfo = (props) => {\n  const {\n    userId,\n    profile,\n    auth,\n    firstName = profile.firstName || \"\",\n    lastName = profile.lastName || \"\",\n    fullName = profile.fullName,\n    jobTitle = profile.jobTitle || \"\",\n    userType = profile.userType,\n    city = profile.city || \"\",\n    country = profile.country || \"\",\n    brief = profile.brief || \"\",\n  } = props;\n\n  const [newFirstName, setNewFirstName] = React.useState(firstName);\n  const [newLastName, setNewLastName] = React.useState(lastName);\n  const [newCity, setNewCity] = React.useState(city);\n  const [newCountry, setNewCountry] = React.useState(country);\n  const [newJobTitle, setNewJobTitle] = React.useState(jobTitle);\n  const [newBrief, setNewBrief] = React.useState(brief);\n  const displayName =\n    !newFirstName && !newLastName ? fullName : newFirstName + \" \" + newLastName;\n\n  // Protect the page from unauthorized access\n  if (!auth.uid) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.handleEditingStatus(true);\n\n    const changes = {\n      firstName: newFirstName,\n      lastName: newLastName,\n      fullName: displayName,\n      city: newCity,\n      country: newCountry,\n      jobTitle: newJobTitle,\n      brief: newBrief,\n    };\n\n    props.updateProfile({ userId, ...changes });\n  };\n\n  if (profile) {\n    return (\n      <Form className=\"d-flex flex-column infoContainer\">\n        <Form.Row>\n          <Form.Group as={Col} controlId=\"firstName\">\n            <Form.Label>First Name</Form.Label>\n            <Form.Control\n              type=\"text\"\n              value={newFirstName}\n              className=\"w-75\"\n              onInput={(e) => {\n                setNewFirstName(e.target.value);\n              }}\n            />\n          </Form.Group>\n          <Form.Group as={Col} controlId=\"lastName\">\n            <Form.Label>Last Name</Form.Label>\n            <Form.Control\n              type=\"text\"\n              value={newLastName}\n              className=\"w-75\"\n              onInput={(e) => {\n                setNewLastName(e.target.value);\n              }}\n            />\n          </Form.Group>\n        </Form.Row>\n        <Form.Row className=\"justify-content-between\">\n          <Col>\n            <p className=\"w-75 m-0 pb-1 border-bottom\">\n              Display name\n              <OverlayTrigger\n                overlay={\n                  <Tooltip id=\"tooltip-disabled\">\n                    This name will be displayed when you comment or post a blog\n                  </Tooltip>\n                }\n              >\n                <span className=\"ml-2 d-inline-block\">\n                  <img alt=\"Info sign\" src={infoSign} width=\"20\" />\n                </span>\n              </OverlayTrigger>\n            </p>\n            <p className=\"w-75 m-0 p-1 displayName\">{displayName}</p>\n          </Col>\n          <Col></Col>\n        </Form.Row>\n        <Form.Row>\n          <Form.Group as={Col} controlId=\"jobTitle\">\n            <Form.Label>Job title</Form.Label>\n            <Form.Control\n              type=\"text\"\n              value={newJobTitle}\n              className=\"w-75\"\n              onInput={(e) => {\n                setNewJobTitle(e.target.value);\n              }}\n            />\n          </Form.Group>\n          <Col>\n            <p className=\"w-75 m-0 pb-1 border-bottom\">\n              User account type\n              <OverlayTrigger\n                overlay={\n                  <Tooltip id=\"tooltip-disabled\">\n                    You can contact with the website admins to upgrade your\n                    account\n                  </Tooltip>\n                }\n              >\n                <span className=\"ml-2 d-inline-block\">\n                  <img alt=\"Info sign\" src={infoSign} width=\"20\" />\n                </span>\n              </OverlayTrigger>\n            </p>\n            <p className=\"w-75 m-0 p-1 displayName\">{userType}</p>\n          </Col>\n        </Form.Row>\n        <Form.Row>\n          <Form.Group as={Col} controlId=\"city\">\n            <Form.Label>City</Form.Label>\n            <Form.Control\n              type=\"text\"\n              value={newCity}\n              className=\"w-75\"\n              onInput={(e) => {\n                setNewCity(e.target.value);\n              }}\n            />\n          </Form.Group>\n          <Form.Group as={Col} controlId=\"country\">\n            <Form.Label>Country</Form.Label>\n            <Form.Control\n              type=\"text\"\n              value={newCountry}\n              className=\"w-75\"\n              onInput={(e) => {\n                setNewCountry(e.target.value);\n              }}\n            />\n          </Form.Group>\n        </Form.Row>\n        <Form.Row>\n          <Form.Group as={Col} controlId=\"brief\">\n            <Form.Label>Brief</Form.Label>\n            <Form.Control\n              as=\"textarea\"\n              rows=\"3\"\n              value={newBrief}\n              onInput={(e) => {\n                setNewBrief(e.target.value);\n              }}\n            />\n          </Form.Group>\n        </Form.Row>\n        <Form.Row>\n          <Button\n            variant=\"primary\"\n            type=\"submit\"\n            onClick={handleSubmit}\n            className=\"mr-3\"\n          >\n            Save Changes\n          </Button>\n          <Button\n            variant=\"danger\"\n            type=\"button\"\n            onClick={() => props.handleEditingStatus(false)}\n          >\n            Cancel\n          </Button>\n        </Form.Row>\n      </Form>\n    );\n  } else {\n    return <h4 className=\"container\">Loading profile...</h4>;\n  }\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const { userId } = ownProps;\n  const profiles = state.firestore.data.profiles;\n  const profile = profiles ? profiles[userId] : null;\n  return {\n    profile: profile,\n    auth: state.firebase.auth,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    updateProfile: (profileInfo) => dispatch(updateProfile(profileInfo)),\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  firestoreConnect([{ collection: \"profiles\" }])\n)(EditProfileInfo);\n"]},"metadata":{},"sourceType":"module"}